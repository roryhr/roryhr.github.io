<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>How does this thing work?</title>
        <link rel="stylesheet" href="./theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="./">Rory's Corner </a></h1>
                <nav><ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/articles">Articles</a></li>
                    <li><a href="/pages/about">About</a></li>
                    <li><a href="/pages/projects">Projects</a></li>
                    <li><a href="/pages/contact">Contact</a></li>
                    <li><a href="/images/donuts/donuts">Donuts</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="./how-does-this-thing-work.html" rel="bookmark"
           title="Permalink to How does this thing work?">How does this thing work?</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-03-12T00:00:00-08:00">
                Published: Sun 12 March 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="./author/rory-hartong-redden.html">Rory Hartong-Redden</a>
        </address>
<p>In <a href="./category/python-documentation.html">python, documentation</a>.</p>

</footer><!-- /.post-info -->      <p>Updated: 2019-11-29</p>
<p>Added a <code>requirements.txt</code> to capture dependencies and ported to MacOS. </p>
<h1>Introduction</h1>
<p>After 9 months I'm returning to this website.
My first question was "How does this thing work?"
Of course I didn't document it and I don't remember. Lesson learned.</p>
<p><strong>The things we take for granted are the most important to document.</strong></p>
<p>This post is for myself and anyone interested in using Pelican to make a Github-hosted website.</p>
<h1>How does this thing work?</h1>
<h2>High level overview</h2>
<p>This site is hosted for free by <a href="https://github.com/">Github</a> from the special repository <a href="https://github.com/roryhr/roryhr.github.io">roryhr/roryhr.github.io</a>. 
Thanks Github!</p>
<p>Great. 
I used a static site generator called Pelican that generates html, which comprises this website, from markdown text files in a particular directory structure (more on that in a bit).
These files are in a separate repository at
<a href="https://github.com/roryhr/site-code">roryhr/site-code</a>.</p>
<h2>Recipes</h2>
<p>Content for the website goes in the <code>content</code> directory. 
Generate the website</p>
<div class="highlight"><pre><span></span><span class="o">((</span>blog<span class="o">))</span> rory@rory-Satellite-S75-B:~/Projects/site-code$ pelican content
WARNING: empty slug <span class="k">for</span> /home/rory/Projects/site-code/content/pages/index.md. You can fix this by adding a title or a slug to your content
Done: Processed <span class="m">7</span> articles, <span class="m">0</span> drafts, <span class="m">4</span> pages and <span class="m">0</span> hidden pages in <span class="m">0</span>.23 seconds.
<span class="o">((</span>blog<span class="o">))</span> rory@rory-Satellite-S75-B:~/Projects/site-code$
</pre></div>


<p>The output html goes to the <code>output</code> directory which gets pushed to <code>roryhr.github.io</code> repo.</p>
<div class="highlight"><pre><span></span><span class="o">((</span>blog<span class="o">))</span> rory@rory-Satellite-S75-B:~/Projects/site-code/output$ git status
On branch master
Your branch is up-to-date with <span class="s1">&#39;origin/master&#39;</span>.
Changes not staged <span class="k">for</span> commit:
  <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>

    modified:   archives.html
    modified:   author/rory-hartong-redden.html
    modified:   authors.html
    modified:   category/opinion.html

Untracked files:
  <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>

    how-does-this-thing-work.html

no changes added to commit <span class="o">(</span>use <span class="s2">&quot;git add&quot;</span> and/or <span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
<span class="o">((</span>blog<span class="o">))</span> rory@rory-Satellite-S75-B:~/Projects/site-code/output$ git remote -v
origin  https://github.com/roryhr/roryhr.github.io <span class="o">(</span>fetch<span class="o">)</span>
origin  https://github.com/roryhr/roryhr.github.io <span class="o">(</span>push<span class="o">)</span>
<span class="o">((</span>blog<span class="o">))</span> rory@rory-Satellite-S75-B:~/Projects/site-code/output$
</pre></div>


<p>Run the development server manually and navigate to <code>http://localhost:8000</code></p>
<div class="highlight"><pre><span></span><span class="o">((</span>blog<span class="o">))</span> rory@rory-Satellite-S75-B:~/Projects/site-code$ <span class="nb">cd</span> output/
<span class="o">((</span>blog<span class="o">))</span> rory@rory-Satellite-S75-B:~/Projects/site-code/output$ python -m pelican.server
</pre></div>


<p>Alternatively, take advantage of the shell script that recompiles the site as you edit it (very cool!)</p>
<div class="highlight"><pre><span></span><span class="o">(</span>web<span class="o">)</span> Rorys-MBP:website_code rory$ ./develop_server.sh start
<span class="o">(</span>web<span class="o">)</span> Rorys-MBP:website_code rory$ ./develop_server.sh stop
</pre></div>


<h1>Repository contents</h1>
<div class="highlight"><pre><span></span>site-code/
    content/
        blog/
            blog-posts-go-here.md
        images/
            images-go-here.jpg
            and-other-static-files.html
        pages/
            about.md
            contact.md
            index.md
            projects.md
    output/
        index.html
        lots of other html files
    render_math/
    develop_server.sh  
    LICENSE
    pelicanconf.py  
    README.md
</pre></div>


<h2>Wiring the site up</h2>
<p>I made a custom landing page with <code>pages/index.md</code> which becomes <code>index.html</code></p>
<div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span>
<span class="n">save_as</span><span class="p">:</span> <span class="n">index</span><span class="o">.</span><span class="n">html</span>

<span class="n">Thanks</span> <span class="k">for</span> <span class="n">stopping</span> <span class="n">by</span> <span class="n">my</span> <span class="n">little</span> <span class="n">website</span><span class="o">.</span>

<span class="o">--</span> <span class="n">Rory</span> <span class="n">Hartong</span><span class="o">-</span><span class="n">Redden</span>
</pre></div>


<p>In <code>site-code/pelicanconf.py</code> I wire up the buttons so they're labeled and go to the appropriate place (this took some fiddling).</p>
<div class="highlight"><pre><span></span><span class="n">MENUITEMS</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Home&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;Articles&#39;</span><span class="p">,</span> <span class="s1">&#39;/archives&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;About&#39;</span><span class="p">,</span> <span class="s1">&#39;/pages/about&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;Projects&#39;</span><span class="p">,</span> <span class="s1">&#39;/pages/projects&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;Contact&#39;</span><span class="p">,</span> <span class="s1">&#39;/pages/contact&#39;</span><span class="p">)]</span>
</pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://www.chipy.org/">ChiPy</a></li>
                            <li><a href="http://baypiggies.net/">BayPIGies</a></li>
                            <li><a href="http://pyninsula.org/">Pyninsula</a></li>
                            <li><a href="http://sfpythonmeetup.com/">SF Python</a></li>
                            <li><a href="http://blog.kaggle.com/">No Free Hunch (Kaggle)</a></li>
                            <li><a href="http://efavdb.com/">EFAVDB</a></li>
                            <li><a href="http://multithreaded.stitchfix.com/">MultiThreaded</a></li>
                            <li><a href="http://sisl.stanford.edu/">SISL</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://github.com/roryhr">Github</a></li>
                            <li><a href="https://www.linkedin.com/in/rory-hartong-redden-18334356">LinkedIn</a></li>
                            <li><a href="https://twitter.com/rory_h_r">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>